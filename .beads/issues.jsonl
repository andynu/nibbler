{"id":"ttrb-00h","title":"Build command palette component (cmdk)","description":"Create a reusable command palette component for keyboard-driven actions.\n\n## Use Cases\n- Quick move feed to category (Ctrl-Shift-M)\n- Jump to feed (Ctrl-P / Ctrl-K)\n- Global commands (Ctrl-Shift-P)\n- Search articles\n\n## Features\n- Fuzzy search/filter\n- Keyboard navigation (‚Üë/‚Üì, Enter, Esc)\n- Grouped results with headers\n- Recent/frequent items\n- Keyboard shortcut hints\n\n## Implementation\n- Use cmdk library (https://cmdk.paco.me/)\n- Already uses Radix UI primitives (we have Radix)\n- Wrap in Dialog for modal behavior\n\n## Reference\n- Linear, Raycast, VS Code, Slack command palettes\n- Vercel's cmdk is lightweight and accessible","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T13:06:47.331701-05:00","updated_at":"2025-12-26T13:06:47.331701-05:00","labels":["feature","frontend","ux"]}
{"id":"ttrb-0dp","title":"Add category management UI","description":"Create UI for managing categories/folders.\n\n## Features:\n- Create category (with optional parent for nesting)\n- Rename category inline or via dialog\n- Delete category (move feeds to uncategorized or another category)\n- Drag-drop feeds between categories\n- Collapse/expand categories (persisted state)\n- Reorder categories\n\n## Components:\n- CategoryTree (in sidebar)\n- CreateCategoryDialog\n- CategoryContextMenu (rename, delete)\n\n## API dependency:\n- GET/POST/PATCH/DELETE /api/categories","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T12:54:34.74637-05:00","updated_at":"2025-12-26T12:54:34.74637-05:00","labels":["feature","frontend"]}
{"id":"ttrb-0gz","title":"Implement reading behavior preferences","description":"Preferences that control reading behavior and article state management.\n\n## Preferences\n- `auto_catchup` (default: false) ‚Äî Mark articles read when scrolled past\n- `confirm_feed_catchup` (default: true) ‚Äî Confirm before 'mark all read'\n- `default_view_mode` (default: 'adaptive') ‚Äî Default filter for article list\n- `default_view_limit` (default: 30) ‚Äî Articles per page/batch\n\n## Frontend Implementation\n\n### auto_catchup\n- Track scroll position in entry list\n- When article scrolls out of viewport (upward), mark as read\n- Debounce to avoid excessive API calls\n- Visual indicator that this is happening?\n\n### confirm_feed_catchup\n- When user clicks 'Mark all read' on feed/category\n- If enabled: show confirmation dialog with count\n- If disabled: mark immediately\n\n### default_view_mode\n- Options: all, unread, adaptive, starred, published\n- 'Adaptive' = unread if any, else all (smart default)\n- Applied when selecting a feed, persisted in state\n\n### default_view_limit\n- Pagination or infinite scroll batch size\n- Options: 15, 30, 50, 100\n\n## Settings UI\n- Toggle: 'Mark articles read when scrolled past'\n- Toggle: 'Confirm before marking all as read'\n- Dropdown: 'Default article filter'\n- Dropdown: 'Articles per page'\n\n## API\n- GET/PATCH /api/preferences","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T13:38:39.046592-05:00","updated_at":"2025-12-26T13:38:39.046592-05:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"ttrb-0gz","depends_on_id":"ttrb-bj5","type":"parent-child","created_at":"2025-12-26T13:39:46.181307-05:00","created_by":"daemon"}]}
{"id":"ttrb-0op","title":"Implement user authentication API","description":"Implement authentication endpoints and session management.\n\n## Endpoints needed:\n- POST /api/auth/login - Login with username/password\n- POST /api/auth/logout - Logout and invalidate session\n- GET /api/auth/me - Get current user info\n- POST /api/auth/change_password - Change password\n\n## Features:\n- Session-based auth with secure cookies\n- CSRF protection\n- Rate limiting on login attempts\n- Optional: API tokens for programmatic access\n\n## Reference:\n- TTRSS UserHelper: classes/UserHelper.php\n- TTRSS Sessions: classes/Sessions.php","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-26T12:52:55.487628-05:00","updated_at":"2025-12-26T12:52:55.487628-05:00","labels":["api","auth","feature"]}
{"id":"ttrb-1le","title":"Fix ? keyboard shortcut for help dialog","description":"Pressing ? doesn't open the keyboard shortcuts help dialog.\n\n## Problem\nThe `?` key requires Shift to type (Shift+/), but the keyboard command doesn't account for the shift modifier being pressed.\n\n## Root Cause\n```javascript\n// In useKeyboardCommands hook:\nfunction matchesModifiers(event, modifiers) {\n  const expected = modifiers || {}\n  return (\n    \\!\\!event.ctrlKey === \\!\\!expected.ctrl \u0026\u0026\n    \\!\\!event.shiftKey === \\!\\!expected.shift \u0026\u0026  // Shift is true for ?\n    // ...\n  )\n}\n\n// Command definition doesn't specify shift:\n{ key: '?', handler: handleKeyboardHelp, description: 'Show keyboard shortcuts' }\n// When user presses Shift+/, event.shiftKey=true but expected.shift=undefined\n// So \\!\\!true === \\!\\!undefined =\u003e true === false =\u003e no match\n```\n\n## Fix Options\n\n### Option 1: Add shift modifier to command\n```javascript\n{ key: '?', handler: handleKeyboardHelp, description: '...', modifiers: { shift: true } }\n```\n\n### Option 2: Ignore shift for printable characters\nIn matchesModifiers, don't check shift for single printable character keys since shift is inherent to the character.\n\n## Testing\n1. Press ? (Shift+/)\n2. Keyboard shortcuts dialog should appear\n\n## Files\n- app/javascript/application.tsx (line 247)\n- app/javascript/hooks/useKeyboardCommands.ts","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T14:30:04.6028-05:00","updated_at":"2025-12-26T14:30:04.6028-05:00","labels":["bug","frontend"]}
{"id":"ttrb-1pg","title":"Set up React + shadcn/ui in Rails app","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T12:06:46.891792-05:00","updated_at":"2025-12-26T12:17:13.785518-05:00","closed_at":"2025-12-26T12:17:13.785523-05:00","labels":["feature"]}
{"id":"ttrb-1u3","title":"Implement article purge settings and job","description":"Settings and backend for automatic article cleanup.\n\n## Preferences\n- `purge_old_days` (default: 60) ‚Äî Days before articles are purged\n- `purge_unread_articles` (default: true) ‚Äî Whether to purge unread articles too\n\n## Backend\n- PurgeArticlesJob (Solid Queue)\n  - Runs daily (or weekly)\n  - Respects per-feed purge_interval if set\n  - Never purges starred or published articles\n  - Deletes Entry records with no remaining UserEntry references\n- Add to scheduler in config/recurring.yml\n\n## Settings UI\n- Number input for days\n- Checkbox for purge unread\n- Show estimate: 'This will remove ~X articles'\n\n## API\n- GET/PATCH /api/preferences (purge_old_days, purge_unread_articles)\n\n## Model\n- Feed.purge_interval already exists for per-feed override\n- UserPreference for global defaults","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T13:38:07.19094-05:00","updated_at":"2025-12-26T13:38:07.19094-05:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"ttrb-1u3","depends_on_id":"ttrb-bj5","type":"parent-child","created_at":"2025-12-26T13:39:46.061528-05:00","created_by":"daemon"}]}
{"id":"ttrb-28x","title":"Set up Docker PostgreSQL and API controllers","description":"","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-26T12:41:28.399635-05:00","updated_at":"2025-12-26T12:41:40.465573-05:00","labels":["feature"]}
{"id":"ttrb-391","title":"Add bulk article actions","description":"Allow bulk operations on multiple articles.\n\n## Features:\n- Select multiple articles (checkboxes or shift-click)\n- Bulk mark as read/unread\n- Bulk star/unstar\n- Bulk assign label\n- Mark all as read (per feed/category/all)\n\n## API:\n- POST /api/entries/bulk with action and entry_ids\n- POST /api/feeds/:id/mark_all_read\n- POST /api/categories/:id/mark_all_read\n\n## Reference:\n- TTRSS RPC::catchupFeed()\n- Essential for managing large unread counts","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T12:55:25.317011-05:00","updated_at":"2025-12-26T12:55:25.317011-05:00","labels":["api","feature","frontend"]}
{"id":"ttrb-4eb","title":"Implement unread counters API","description":"API endpoint for fetching unread counts efficiently.\n\n## Endpoint:\n- GET /api/counters - Returns unread counts for all feeds, categories, virtual feeds\n\n## Response format:\n{\n  feeds: { feed_id: count, ... },\n  categories: { category_id: count, ... },\n  virtual: { all: n, fresh: n, starred: n, published: n },\n  total: n\n}\n\n## Performance:\n- Single query with GROUP BY\n- Consider caching (Redis or counter cache columns)\n- TTRSS caches counters and invalidates on changes\n\n## Reference:\n- TTRSS Feeds::get_counters()\n- Used by frontend for sidebar badges","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-26T12:54:34.473367-05:00","updated_at":"2025-12-26T12:54:34.473367-05:00","labels":["api","feature"]}
{"id":"ttrb-4ej","title":"Build REST API for categories","description":"Implement API controllers for category management.\n\n## Endpoints needed:\n- GET /api/categories - List categories (with feed counts)\n- POST /api/categories - Create category\n- PATCH /api/categories/:id - Update category (title, parent, collapsed)\n- DELETE /api/categories/:id - Delete category (with option to move feeds)\n- PATCH /api/categories/:id/reorder - Reorder categories\n\n## Reference:\n- TTRSS Pref_Feeds: classes/Pref/Feeds.php (category methods)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T12:52:53.264093-05:00","updated_at":"2025-12-26T12:52:53.264093-05:00","labels":["api","feature"]}
{"id":"ttrb-4w1","title":"Build entry reader component (React)","description":"Create the article reader/detail view in React.\n\n## Features:\n- Display full article content (sanitized HTML)\n- Article metadata (author, date, feed, original link)\n- Action buttons: star, mark read/unread, share, open original\n- Enclosure display (audio player, video embed, image gallery)\n- Article notes (add/edit personal notes)\n- Labels display and management\n- Navigation: next/previous article\n\n## Keyboard shortcuts:\n- j/k: next/previous article\n- s: toggle star\n- u: toggle read/unread\n- v: open original link\n- n: open article notes\n\n## API dependency:\n- GET /api/entries/:id\n- PATCH /api/entries/:id","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-26T12:53:27.158232-05:00","updated_at":"2025-12-26T12:53:27.158232-05:00","labels":["feature","frontend"]}
{"id":"ttrb-4ze","title":"Add article purging/cleanup job","description":"Automatically clean up old articles.\n\n## Features:\n- Background job to purge old articles\n- Respect per-feed purge_interval setting\n- Never purge starred or published articles\n- Configurable global default purge age\n\n## Implementation:\n- PurgeOldArticlesJob (scheduled weekly?)\n- Delete Entry records with no remaining UserEntry references\n\n## Reference:\n- TTRSS purge_orphans() in RSSUtils\n- Feed.purge_interval field exists","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-26T12:55:25.718011-05:00","updated_at":"2025-12-26T12:55:25.718011-05:00","labels":["backend","feature"]}
{"id":"ttrb-519","title":"Implement article tagging","description":"Allow users to tag articles with custom tags.\n\n## Backend:\n- Tag model already exists\n- GET /api/tags - list user's tags\n- POST /api/entries/:id/tags - add tags\n- DELETE /api/entries/:id/tags/:tag - remove tag\n\n## Frontend:\n- Tag input with autocomplete\n- Tag cloud or list view\n- Filter articles by tag\n\n## Reference:\n- TTRSS ttrss_tags table\n- UserEntry.tag_cache for denormalized display","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-26T12:55:02.831969-05:00","updated_at":"2025-12-26T12:55:02.831969-05:00","labels":["backend","feature","frontend"]}
{"id":"ttrb-6qm","title":"Build filter management UI (React)","description":"Create UI for managing article filters.\n\n## Features:\n- List existing filters with enable/disable toggle\n- Create filter wizard:\n  1. Define rules (regex patterns, match type: title/content/author/link)\n  2. Select actions (mark read, star, label, score, etc.)\n  3. Choose scope (specific feeds, categories, or all)\n- Edit existing filters\n- Test filter against recent articles\n- Drag-drop reordering\n\n## Components:\n- FilterList\n- FilterEditor (multi-step form)\n- FilterRuleEditor\n- FilterActionPicker\n- FilterTester\n\n## API dependency:\n- GET/POST/PATCH/DELETE /api/filters","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T12:54:33.692512-05:00","updated_at":"2025-12-26T12:54:33.692512-05:00","labels":["feature","frontend"]}
{"id":"ttrb-72p","title":"Build HTML content sanitizer service","description":"Implement HTML sanitizer for feed content to prevent XSS and clean up articles.\n\n## Requirements:\n- Remove dangerous HTML tags (script, style, etc.)\n- Remove JavaScript event handlers (onclick, onerror, etc.)\n- Whitelist safe tags and attributes\n- Handle iframe embedding (YouTube, Vimeo whitelist)\n- Clean up malformed HTML\n- Preserve article formatting (headers, lists, images, links)\n\n## Reference:\n- TTRSS Sanitizer: classes/Sanitizer.php (315 lines)\n- Consider using Rails sanitize helpers or Loofah gem\n\n## Integration:\n- Call from FeedParser when processing entry content\n- Store sanitized content in Entry.content","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T12:53:26.437082-05:00","updated_at":"2025-12-26T12:53:26.437082-05:00","labels":["backend","feature"]}
{"id":"ttrb-7c0","title":"Build label management UI (React)","description":"Create UI for managing labels.\n\n## Features:\n- List labels with entry counts\n- Create label with color picker\n- Edit label (rename, change colors)\n- Delete label with confirmation\n- Quick-assign labels to articles (in reader view)\n\n## Components:\n- LabelList (in preferences)\n- LabelPicker (dropdown for article view)\n- LabelBadge (colored pill display)\n- CreateLabelDialog\n\n## API dependency:\n- GET/POST/PATCH/DELETE /api/labels\n\n## Note:\n- May need migration to add fg_color/bg_color to Label model","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T12:54:34.044919-05:00","updated_at":"2025-12-26T12:54:34.044919-05:00","labels":["feature","frontend"]}
{"id":"ttrb-7me","title":"Build REST API for entries/articles","description":"Implement API controllers for article operations.\n\n## Endpoints needed:\n- GET /api/entries - List entries (with filters: feed_id, category_id, unread, starred, etc.)\n- GET /api/entries/:id - Get single entry with content\n- PATCH /api/entries/:id - Update entry state (read/unread, starred, published, note)\n- POST /api/entries/mark_all_read - Bulk mark as read\n- GET /api/entries/headlines - Lightweight list (no content) for performance\n\n## Virtual feeds to support:\n- All articles, Fresh (\u003c 24h), Starred, Published, Archived\n\n## Reference:\n- TTRSS Article class: classes/Article.php\n- TTRSS Feeds class: classes/Feeds.php (getHeadlines method)","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-26T12:52:51.48045-05:00","updated_at":"2025-12-26T14:37:10.721949-05:00","labels":["api","feature"]}
{"id":"ttrb-83r","title":"Implement email digests","description":"Send daily email digests of unread articles.\n\n## Features:\n- Configurable digest time (preference)\n- Include top N unread articles by score\n- HTML email with article summaries\n- Option to auto-mark digested articles as read\n- Unsubscribe link\n\n## Implementation:\n- DigestMailer for email templates\n- SendDigestsJob (scheduled daily)\n- User preferences: digest_enabled, digest_time, digest_count\n\n## Reference:\n- TTRSS Digest class: classes/Digest.php\n- Lower priority - nice to have\n\n## Dependencies:\n- ActionMailer configuration\n- User preferences system","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T12:54:35.027456-05:00","updated_at":"2025-12-26T12:54:35.027456-05:00","labels":["backend","feature"]}
{"id":"ttrb-8ya","title":"Implement date/time formatting preferences","description":"User preferences for timezone and date display formats.\n\n## Preferences\n- `user_timezone` (default: 'Automatic') ‚Äî User's timezone\n- `short_date_format` (default: 'M d, G:i') ‚Äî Short format (e.g., 'Dec 26, 14:30')\n- `long_date_format` (default: 'D, M d Y - G:i') ‚Äî Long format (e.g., 'Thu, Dec 26 2024 - 14:30')\n\n## Frontend Implementation\n\n### Timezone\n- Detect browser timezone as default ('Automatic')\n- Allow override from dropdown of all IANA timezones\n- All article dates converted to user's timezone for display\n\n### Date formats\n- Short format: used in article list, compact views\n- Long format: used in article reader, full views\n- Use date-fns or similar for formatting\n- Preview of current time in each format in settings\n\n## Settings UI\n- Dropdown: 'Timezone' (Automatic + all IANA zones)\n- Text input or dropdown: 'Short date format'\n- Text input or dropdown: 'Long date format'\n- Live preview showing current time in each format\n\n## Format tokens (date-fns style)\n- M = month, d = day, Y = year\n- G/H = hour, i = minute\n- D = day name\n- Provide presets + custom option\n\n## API\n- GET/PATCH /api/preferences\n\n## Components affected\n- All date displays throughout the app\n- Create useDateFormat() hook or utility","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T13:39:08.132858-05:00","updated_at":"2025-12-26T13:39:08.132858-05:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"ttrb-8ya","depends_on_id":"ttrb-bj5","type":"parent-child","created_at":"2025-12-26T13:39:46.290443-05:00","created_by":"daemon"}]}
{"id":"ttrb-8yw","title":"Implement full-text search","description":"Implement article search using PostgreSQL full-text search.\n\n## Backend:\n- GET /api/search?q=query\u0026feed_id=\u0026category_id=\n- Use existing tsvector_combined column on entries\n- Support search within specific feed/category\n- Highlight matching terms in results\n\n## Frontend:\n- Search input in header/toolbar\n- Search results view (reuse entry list component)\n- Clear search / back to feed view\n\n## Reference:\n- TTRSS uses PostgreSQL tsvector\n- Entry model already has searchable scope (verify)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T12:53:27.37793-05:00","updated_at":"2025-12-26T12:53:27.37793-05:00","labels":["backend","feature","frontend"]}
{"id":"ttrb-a5r","title":"Build REST API for feed management (CRUD operations)","description":"Implement API controllers for feed operations based on TTRSS API class.\n\n## Endpoints needed:\n- POST /api/feeds - Subscribe to a feed\n- GET /api/feeds - List user's feeds  \n- GET /api/feeds/:id - Get feed details\n- PATCH /api/feeds/:id - Update feed settings (title, category, update_interval, etc.)\n- DELETE /api/feeds/:id - Unsubscribe from feed\n- POST /api/feeds/:id/refresh - Force refresh a feed\n\n## Reference:\n- TTRSS API class: classes/API.php (924 lines)\n- TTRSS Pref_Feeds: classes/Pref/Feeds.php (1,283 lines)\n\n## Depends on:\n- ttrb-28x (Docker/API setup)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T12:51:53.92924-05:00","updated_at":"2025-12-26T14:37:03.405211-05:00","closed_at":"2025-12-26T14:37:03.405211-05:00","close_reason":"Closed","labels":["api","feature"],"comments":[{"id":1,"issue_id":"ttrb-a5r","author":"andy","text":"Feed management API complete. Commit 91fe69e extends the API with additional feed settings (update_interval, purge_interval, hidden, etc.). All endpoints implemented:\n- POST /api/v1/feeds (subscribe)\n- GET /api/v1/feeds (list)\n- GET /api/v1/feeds/:id (show)\n- PATCH /api/v1/feeds/:id (update)\n- DELETE /api/v1/feeds/:id (unsubscribe)\n- POST /api/v1/feeds/:id/refresh (force refresh)\n- POST /api/v1/feeds/refresh_all (refresh all feeds)","created_at":"2025-12-26T19:36:57Z"}]}
{"id":"ttrb-ad9","title":"Fix stale closure bug in keyboard navigation handlers","description":"j/k keyboard navigation doesn't work due to stale closure bug.\n\n## Problem\nThe keyboard handlers (`handleKeyboardNext`, `handleKeyboardPrevious`, etc.) capture `entries` and `currentIndex` at definition time. When entries load after initial render, the handlers still see `entries.length === 0` and bail out early.\n\n## Root Cause\n```javascript\n// Handlers defined as plain functions - capture stale closures\nconst handleKeyboardNext = () =\u003e {\n  if (entries.length === 0) return  // entries is stale!\n  ...\n}\n\n// useMemo recreates array but handler functions aren't recreated\nconst keyboardCommands = useMemo\u003cKeyboardCommand[]\u003e(\n  () =\u003e [{ key: 'j', handler: handleKeyboardNext, ... }],\n  [entries, currentIndex, selectedEntry]\n)\n```\n\n## Fix Options\n\n### Option 1: useCallback with proper deps\n```javascript\nconst handleKeyboardNext = useCallback(() =\u003e {\n  if (entries.length === 0) return\n  // ...\n}, [entries, currentIndex, loadEntry])\n```\n\n### Option 2: Define handlers inline in useMemo\n```javascript\nconst keyboardCommands = useMemo(() =\u003e [\n  { \n    key: 'j', \n    handler: () =\u003e {\n      if (entries.length === 0) return\n      // ...\n    },\n    description: 'Next entry'\n  },\n], [entries, currentIndex])\n```\n\n### Option 3: Use refs (for complex cases)\nStore entries/currentIndex in refs that handlers can read.\n\n## Testing\n1. Load app with entries\n2. Press j - should select first entry\n3. Press j again - should move to next\n4. Press k - should move to previous\n\n## Files\n- app/javascript/application.tsx (lines 181-249)","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-26T14:29:49.368951-05:00","updated_at":"2025-12-26T14:29:49.368951-05:00","labels":["bug","frontend"]}
{"id":"ttrb-b4u","title":"Create supporting models (Label, Tag, Enclosure, Filter system)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T12:06:47.289982-05:00","updated_at":"2025-12-26T12:31:19.425776-05:00","closed_at":"2025-12-26T12:31:19.425779-05:00","labels":["feature"]}
{"id":"ttrb-bj5","title":"Build user preferences UI","description":"Create the settings/preferences UI and backend support.\n\n## Scope\n\nBased on TTRSS preferences audit (docs/ttrss-preferences-checklist.md):\n- **22 configurable preferences** exposed in settings UI\n- **7 hidden preferences** with sensible defaults (not in UI)\n- **4 dropped** (single layout approach, no blacklisted tags)\n\n## Settings Tabs Structure\n\n1. **Feeds \u0026 Categories** ‚Äî feed organizer (separate task ttrb-tdj)\n2. **Reading** ‚Äî display, behavior, sidebar prefs\n3. **Appearance** ‚Äî theme, custom CSS, language\n4. **Digest** ‚Äî email digest settings\n5. **Account** ‚Äî password, timezone, date formats\n\n## Key UX Decisions\n\n- Sorting controlled in list UI (persisted automatically), not settings\n- Hide read feeds: quick toggle in sidebar + setting for default\n- Responsive layout by default (no widescreen toggle)\n- Categories always enabled\n\n## Child Tasks\n\nThis epic has child tasks for each feature area:\n- Purge/cleanup settings\n- Feed update intervals\n- Article display prefs\n- Reading behavior prefs\n- Feed sidebar controls\n- Fresh article age\n- Date/time formatting\n- Theming system\n- Search language\n- Email digest settings\n- Multi-column list sorting\n\n## API\n\n- GET /api/preferences ‚Äî all user prefs\n- PATCH /api/preferences ‚Äî update prefs\n- Backend: UserPreference model already exists","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T12:54:02.445435-05:00","updated_at":"2025-12-26T13:37:44.745319-05:00","labels":["feature","frontend"]}
{"id":"ttrb-blc","title":"Implement feed update interval settings","description":"Default update interval preference and per-feed overrides.\n\n## Preferences\n- `default_update_interval` (default: 30 min) ‚Äî Default for new feed subscriptions\n\n## Backend\n- UpdateFeedsJob respects Feed.update_interval\n- New feeds get default_update_interval from user preference\n- Interval options: 15min, 30min, 1hr, 2hr, 6hr, 12hr, 24hr, weekly\n\n## Settings UI (global default)\n- Dropdown to select default interval\n- Note: 'Individual feeds can override this in feed settings'\n\n## Feed Settings UI (per-feed override)\n- Dropdown in feed edit dialog\n- Option: 'Use default (currently 30 min)'\n- Show next update time\n\n## API\n- GET/PATCH /api/preferences (default_update_interval)\n- PATCH /api/feeds/:id (update_interval)\n\n## Depends on\n- ttrb-mzj (feed update background job)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T13:38:07.398367-05:00","updated_at":"2025-12-26T13:38:07.398367-05:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"ttrb-blc","depends_on_id":"ttrb-bj5","type":"parent-child","created_at":"2025-12-26T13:39:46.101359-05:00","created_by":"daemon"}]}
{"id":"ttrb-c21","title":"Implement article notes feature","description":"Allow users to add personal notes to articles.\n\n## Backend:\n- UserEntry.note field already exists\n- PATCH /api/entries/:id with note param\n\n## Frontend:\n- Note icon/indicator on articles with notes\n- Note editor (inline or modal)\n- View note in article reader\n- Search notes? (stretch goal)\n\n## Reference:\n- TTRSS note plugin: plugins/note/","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-26T12:55:02.169051-05:00","updated_at":"2025-12-26T12:55:02.169051-05:00","labels":["backend","feature","frontend"]}
{"id":"ttrb-cuf","title":"Implement article display preferences","description":"Preferences for how articles are displayed in the list and reader.\n\n## Preferences\n- `show_content_preview` (default: true) ‚Äî Show snippet in headline list\n- `strip_images` (default: false) ‚Äî Remove images from article content\n\n## Frontend Implementation\n\n### show_content_preview\n- Entry list shows first ~150 chars of content when enabled\n- When disabled, show title + metadata only (compact mode)\n- Affects EntryListItem component\n\n### strip_images\n- When enabled, filter out \u003cimg\u003e tags from article content\n- Apply in article reader component\n- Consider: also strip from preview?\n\n## Settings UI\n- Toggle: 'Show content preview in article list'\n- Toggle: 'Hide images in articles'\n- Maybe group under 'Article Display' section\n\n## API\n- GET/PATCH /api/preferences\n\n## Components affected\n- EntryListItem (preview)\n- EntryReader (strip images)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T13:38:07.611137-05:00","updated_at":"2025-12-26T13:38:07.611137-05:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"ttrb-cuf","depends_on_id":"ttrb-bj5","type":"parent-child","created_at":"2025-12-26T13:39:46.142162-05:00","created_by":"daemon"}]}
{"id":"ttrb-d3u","title":"Implement published articles feed","description":"Allow users to share articles via a public RSS feed.\n\n## Features:\n- Published articles become available as public RSS/Atom feed\n- Access via unique key (no auth required)\n- GET /public/feed/:access_key.atom\n- Regenerate access key if compromised\n\n## Model changes:\n- May need AccessKey model or use existing uuid field\n- UserEntry.published already tracks published status\n\n## Reference:\n- TTRSS Handler_Public::feed() method\n- TTRSS ttrss_access_keys table","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-26T12:54:02.900808-05:00","updated_at":"2025-12-26T12:54:02.900808-05:00","labels":["backend","feature"]}
{"id":"ttrb-d9x","title":"Implement feed error handling UI","description":"Display feed update errors to users.\n\n## Features:\n- Error indicator on feeds with problems\n- Error details in feed settings/info\n- Retry button for failed feeds\n- Auto-disable feeds after N consecutive failures?\n- Error notification/summary\n\n## Model:\n- Feed.last_error already exists\n\n## Reference:\n- TTRSS shows error icons on problematic feeds","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T12:55:25.520822-05:00","updated_at":"2025-12-26T12:55:25.520822-05:00","labels":["feature","frontend"]}
{"id":"ttrb-di2","title":"Implement language/i18n support","description":"UI language selection and internationalization.\n\n## Preferences\n- `user_language` (default: '' = browser default) ‚Äî UI language\n- `default_search_language` (default: '') ‚Äî Full-text search language\n\n## Frontend Implementation\n\n### UI Language\n- Use react-i18next or similar\n- Extract all UI strings to translation files\n- Languages to support initially: English\n- Structure for adding more languages later\n\n### Search Language\n- PostgreSQL full-text search uses language-specific stemming\n- Allow user to set their preferred search language\n- Affects search result relevance\n\n## Settings UI\n- Dropdown: 'Language' (browser default + available languages)\n- Dropdown: 'Search language' (for full-text search)\n\n## Implementation\n- i18n framework setup (react-i18next recommended)\n- Translation JSON files in /locales\n- Language detection: preference \u003e browser \u003e English\n- Lazy load non-English translations\n\n## API\n- GET/PATCH /api/preferences\n- Backend search uses default_search_language for ts_query\n\n## Notes\n- Start with English only, structure for expansion\n- Search language is separate from UI language\n- Consider RTL support for future languages","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-26T13:39:08.566705-05:00","updated_at":"2025-12-26T13:39:08.566705-05:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"ttrb-di2","depends_on_id":"ttrb-bj5","type":"parent-child","created_at":"2025-12-26T13:39:46.363803-05:00","created_by":"daemon"}]}
{"id":"ttrb-duw","title":"Implement feed favicon fetching","description":"Automatically fetch and cache feed favicons.\n\n## Requirements:\n- Fetch favicon from feed's site_url\n- Try multiple sources: /favicon.ico, \u003clink rel='icon'\u003e, Apple touch icon\n- Cache favicons locally (disk or ActiveStorage)\n- Store average color for UI theming (like TTRSS favicon_avg_color)\n- Background job to periodically refresh favicons\n\n## Reference:\n- TTRSS RSSUtils::check_feed_favicon()\n- TTRSS stores in ICONS_DIR with feed_id as filename\n\n## Model changes needed:\n- Feed.icon_url already exists (for cached path)\n- May need Feed.favicon_avg_color migration","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-26T12:54:02.680751-05:00","updated_at":"2025-12-26T12:54:02.680751-05:00","labels":["backend","feature"]}
{"id":"ttrb-dzc","title":"Build feed sidebar component (React)","description":"Create the main feed navigation sidebar in React.\n\n## Features:\n- Hierarchical feed/category tree\n- Collapsible categories\n- Unread counts per feed and category\n- Virtual feeds section (All, Fresh, Starred, Published)\n- Feed icons/favicons\n- Drag-drop reordering (stretch goal)\n- Context menu for feed actions\n\n## UI Reference:\n- TTRSS uses tree view with icons\n- Consider using Radix UI Accordion for collapsible sections\n\n## API dependency:\n- GET /api/feeds\n- GET /api/categories","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-26T12:53:26.677238-05:00","updated_at":"2025-12-26T12:53:26.677238-05:00","labels":["feature","frontend"]}
{"id":"ttrb-ebh","title":"Implement article scoring system","description":"Allow manual and automatic article scoring.\n\n## Features:\n- Manual score adjustment (+1/-1 buttons)\n- Filter actions can set scores\n- Sort articles by score\n- Use score for digest prioritization\n\n## Model:\n- UserEntry.score already exists\n\n## UI:\n- Score display on articles\n- Score adjustment controls\n- Sort by score option\n\n## Reference:\n- TTRSS uses scoring for prioritization","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-26T12:55:02.381947-05:00","updated_at":"2025-12-26T12:55:02.381947-05:00","labels":["backend","feature"]}
{"id":"ttrb-ehi","title":"Add responsive mobile layout","description":"Make the UI work well on mobile devices.\n\n## Requirements:\n- Responsive sidebar (hamburger menu on mobile)\n- Touch-friendly article navigation\n- Swipe gestures for next/previous article\n- Pull-to-refresh\n- Compact article list on small screens\n\n## Approach:\n- Use Tailwind responsive classes\n- Consider react-swipeable for gestures\n- Test on various screen sizes\n\n## Reference:\n- TTRSS has basic mobile support\n- Many modern RSS readers (Feedly, Inoreader) have good mobile UX","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-26T12:54:35.256117-05:00","updated_at":"2025-12-26T12:54:35.256117-05:00","labels":["feature","frontend"]}
{"id":"ttrb-g4y","title":"Implement filter execution on new articles","description":"Execute user filters when new articles are fetched.\n\n## Requirements:\n- Run filters after FeedUpdater creates UserEntry records\n- Apply filter actions: mark_read, delete, star, publish, label, score\n- Support 'stop' action to halt further filter processing\n- Track filter matches (last_triggered timestamp)\n- Logging for debugging filter behavior\n\n## Reference:\n- TTRSS RSSUtils applies filters in update_rss_feed()\n- Filter/FilterRule/FilterAction models already exist\n- FilterRule#matches? already implemented\n\n## Integration point:\n- Call from FeedUpdater after creating entries","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T12:54:03.35566-05:00","updated_at":"2025-12-26T12:54:03.35566-05:00","labels":["backend","feature"]}
{"id":"ttrb-gdo","title":"Implement Fresh articles age setting","description":"Configure the age threshold for the 'Fresh' virtual feed.\n\n## Preference\n- `fresh_article_max_age` (default: 24 hours) ‚Äî Max age for Fresh feed\n\n## Backend\n- Virtual feed query: entries WHERE date_entered \u003e (now - fresh_max_age)\n- Add to counters API for Fresh unread count\n\n## Frontend\n- Fresh feed in sidebar shows articles newer than threshold\n- Badge shows count of fresh unread articles\n\n## Settings UI\n- Dropdown or number input: 'Fresh articles are less than X hours old'\n- Options: 6h, 12h, 24h, 48h, 72h, 1 week\n\n## API\n- GET/PATCH /api/preferences (fresh_article_max_age)\n- GET /api/entries?virtual=fresh uses this setting\n\n## Notes\n- This is a user preference, not system-wide\n- Affects only the Fresh virtual feed, not other views","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T13:38:39.483074-05:00","updated_at":"2025-12-26T13:38:39.483074-05:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"ttrb-gdo","depends_on_id":"ttrb-bj5","type":"parent-child","created_at":"2025-12-26T13:39:46.253638-05:00","created_by":"daemon"}]}
{"id":"ttrb-j83","title":"Implement multi-column article list sorting","description":"Email-style sortable columns in the article list view.\n\n## Concept\nInstead of a single sort preference, allow sorting by multiple columns like email clients:\n- Click column header to sort\n- Click again to reverse\n- Shift+click to add secondary sort\n- Sort state persisted automatically (not in settings UI)\n\n## Sortable Columns\n- Date (published/entered)\n- Feed name\n- Title\n- Score\n- Read/unread status\n\n## Frontend Implementation\n\n### Column Headers\n- Clickable headers with sort indicator (‚ñ≤/‚ñº)\n- Current sort column highlighted\n- Shift+click for multi-level sort\n\n### State Management\n- Store sort config: [{ column, direction }, ...]\n- Persist to user preferences automatically\n- Restore on page load\n\n### API Integration\n- GET /api/entries?sort=date:desc,feed:asc\n- Backend applies sort order\n\n## Hidden Preferences (auto-persisted)\n- `_default_view_order_by` ‚Äî Stored but not in settings UI\n- `reverse_headlines` ‚Äî Subsumed by this feature\n\n## UI\n- Table-style header row (even in card view)\n- Or: sort dropdown in toolbar with multi-select\n- Mobile: simplified sort dropdown\n\n## Keyboard\n- Consider shortcuts for quick sort changes\n\n## Notes\n- This replaces REVERSE_HEADLINES and _DEFAULT_VIEW_ORDER_BY\n- Sorting happens in list UI, not settings panel\n- Preference auto-saved, no explicit save button","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T13:39:35.568579-05:00","updated_at":"2025-12-26T13:39:35.568579-05:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"ttrb-j83","depends_on_id":"ttrb-bj5","type":"parent-child","created_at":"2025-12-26T13:39:46.439243-05:00","created_by":"daemon"}]}
{"id":"ttrb-klw","title":"Build entry list component (React)","description":"Create the article/entry list view in React.\n\n## Features:\n- List of article headlines with preview\n- Show: title, feed name, date, read/unread indicator, star\n- Click to select and view full article\n- Mark as read on selection (configurable)\n- Infinite scroll or pagination\n- Filter by: feed, category, unread, starred\n\n## Display modes (like TTRSS):\n- Combined mode: headlines with expanded content inline\n- Traditional mode: headlines only, content in separate pane\n\n## API dependency:\n- GET /api/entries (with filters)","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-26T12:53:26.924575-05:00","updated_at":"2025-12-26T12:53:26.924575-05:00","labels":["feature","frontend"]}
{"id":"ttrb-ksc","title":"Build REST API for filters","description":"Implement API controllers for filter management.\n\n## Endpoints needed:\n- GET /api/filters - List user filters with rules and actions\n- POST /api/filters - Create filter with rules/actions\n- PATCH /api/filters/:id - Update filter\n- DELETE /api/filters/:id - Delete filter\n- POST /api/filters/:id/test - Test filter against sample articles\n\n## Filter actions to support:\n- mark_read, delete, star, publish, tag, label, score, stop, ignore_tag\n\n## Reference:\n- TTRSS Pref_Filters: classes/Pref/Filters.php (1,097 lines)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T12:52:54.611346-05:00","updated_at":"2025-12-26T12:52:54.611346-05:00","labels":["api","feature"]}
{"id":"ttrb-ljb","title":"Add OTP/2FA authentication","description":"Add two-factor authentication support.\n\n## Features:\n- TOTP setup with QR code\n- OTP verification on login\n- Recovery codes\n- App passwords bypass OTP\n\n## Implementation:\n- Use rotp gem for TOTP\n- User.otp_secret field (encrypt at rest)\n- User.otp_enabled boolean\n\n## Reference:\n- TTRSS UserHelper has OTP support\n- User model already has otp_enabled field","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T12:55:03.27591-05:00","updated_at":"2025-12-26T12:55:03.27591-05:00","labels":["auth","backend","feature"]}
{"id":"ttrb-mzj","title":"Implement feed update background job","description":"Create background job system for automatic feed updates.\n\n## Requirements:\n- Use Solid Queue (Rails 8 default) for job processing\n- UpdateFeedsJob: Updates feeds based on their update_interval\n- Scheduler to run updates periodically (every 5-15 min)\n- Respect individual feed update intervals\n- Track last_update_started to prevent concurrent updates\n- Handle feed errors gracefully (exponential backoff)\n\n## Reference:\n- TTRSS update_daemon2.php\n- TTRSS RSSUtils: classes/RSSUtils.php (update scheduling logic)\n\n## Existing code:\n- FeedUpdater service already handles single feed updates\n- Just need job wrapper and scheduling","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-26T12:52:56.320433-05:00","updated_at":"2025-12-26T12:52:56.320433-05:00","labels":["backend","feature"]}
{"id":"ttrb-ngp","title":"Build REST API for labels","description":"Implement API controllers for label management.\n\n## Endpoints needed:\n- GET /api/labels - List user labels (with counts)\n- POST /api/labels - Create label\n- PATCH /api/labels/:id - Update label (caption, colors)\n- DELETE /api/labels/:id - Delete label\n- POST /api/entries/:id/labels - Assign labels to entry\n- DELETE /api/entries/:id/labels/:label_id - Remove label from entry\n\n## Reference:\n- TTRSS Pref_Labels: classes/Pref/Labels.php\n- TTRSS has fg_color and bg_color for labels (may need migration)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T12:52:54.049936-05:00","updated_at":"2025-12-26T12:52:54.049936-05:00","labels":["api","feature"]}
{"id":"ttrb-pta","title":"Use open/closed folder icons instead of chevrons for category state","description":"In the feed sidebar tree, use folder icons that visually change between open/closed states rather than chevrons.\n\n## Current Pattern (avoid)\n- Chevron (‚ñ∂/‚ñº) + folder icon + category name\n- Chevron rotation indicates state\n- Takes extra horizontal space, clutters indentation\n\n## Desired Pattern\n- üìÅ (closed) / üìÇ (open) + category name\n- The folder icon itself shows expanded/collapsed state\n- Cleaner visual hierarchy\n- Better use of horizontal space for indentation\n\n## Implementation\n- Use Lucide icons: `Folder` and `FolderOpen`\n- Toggle icon based on expanded state\n- Click on icon or row to toggle\n- Keyboard: Enter or Space to toggle\n\n## Benefits\n- Clearer visual indentation levels\n- More compact horizontal layout\n- Familiar metaphor (file explorer style)\n- Icon communicates state without extra UI element\n\n## Reference\n- macOS Finder sidebar\n- VS Code file explorer\n- Most file manager UIs","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T13:58:05.580084-05:00","updated_at":"2025-12-26T13:58:05.580084-05:00","labels":["feature","frontend","ux"],"dependencies":[{"issue_id":"ttrb-pta","depends_on_id":"ttrb-tdj","type":"related","created_at":"2025-12-26T13:58:10.974754-05:00","created_by":"daemon"}]}
{"id":"ttrb-qpn","title":"Implement keyboard shortcuts","description":"Add comprehensive keyboard navigation like TTRSS.\n\n## Global shortcuts:\n- g a: Go to All articles\n- g f: Go to Fresh articles  \n- g s: Go to Starred articles\n- r: Refresh current feed\n- /: Focus search\n\n## Article list shortcuts:\n- j/k or n/p: Next/previous article\n- o or Enter: Open selected article\n- J/K: Next/previous feed\n\n## Article view shortcuts:\n- s: Toggle star\n- u: Toggle read/unread\n- p: Toggle published\n- v: Open original link in new tab\n- n: Edit note\n- l: Assign label\n\n## Reference:\n- TTRSS hotkeys are in JavaScript: js/tt-rss.js\n- Consider react-hotkeys-hook or similar library","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T12:54:02.153714-05:00","updated_at":"2025-12-26T12:54:02.153714-05:00","labels":["feature","frontend"]}
{"id":"ttrb-ra9","title":"Implement feed sidebar display controls","description":"Controls for how feeds are displayed in the sidebar, with quick-access toggles.\n\n## Preferences\n- `hide_read_feeds` (default: false) ‚Äî Hide feeds with 0 unread\n- `hide_read_shows_special` (default: true) ‚Äî Still show special feeds when hiding read\n- `feeds_sort_by_unread` (default: false) ‚Äî Sort by unread count vs alphabetically\n\n## Frontend Implementation\n\n### hide_read_feeds\n- Filter feed list to only show feeds with unread \u003e 0\n- Quick toggle button in sidebar header (eye icon?)\n- Keyboard shortcut (e.g., Shift+U)\n- Setting stores the default, UI toggle is temporary override\n\n### hide_read_shows_special\n- When hiding read, still show: All, Fresh, Starred, Published\n- These virtual feeds are always visible\n\n### feeds_sort_by_unread\n- Sort options for feed list:\n  - Alphabetical (default)\n  - By unread count (descending)\n  - Manual (drag-drop order)\n- Quick toggle or dropdown in sidebar header\n- Future: multi-level sort like email\n\n## Settings UI\n- Toggle: 'Hide feeds with no unread articles'\n- Toggle: 'Show special feeds when hiding read'\n- Dropdown: 'Sort feeds by'\n\n## Sidebar Quick Controls\n- Eye icon toggle for hide/show read feeds\n- Sort icon dropdown for sort mode\n- These override defaults temporarily\n\n## API\n- GET/PATCH /api/preferences","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T13:38:39.257197-05:00","updated_at":"2025-12-26T13:38:39.257197-05:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"ttrb-ra9","depends_on_id":"ttrb-bj5","type":"parent-child","created_at":"2025-12-26T13:39:46.217349-05:00","created_by":"daemon"}]}
{"id":"ttrb-sd4","title":"Create core data models (User, Category, Feed, Entry, UserEntry)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T12:06:47.092598-05:00","updated_at":"2025-12-26T12:31:19.387732-05:00","closed_at":"2025-12-26T12:31:19.387755-05:00","labels":["feature"]}
{"id":"ttrb-t4p","title":"Build feed fetching and parsing service","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T12:06:47.494677-05:00","updated_at":"2025-12-26T12:39:16.465068-05:00","closed_at":"2025-12-26T12:39:16.465073-05:00","labels":["feature"]}
{"id":"ttrb-tdj","title":"Build feed organizer with keyboard-first UX","description":"Create a keyboard-driven feed organization experience in settings.\n\n## Quick Move Command (Ctrl-Shift-M)\n- Opens fuzzy search palette for categories\n- Type to filter, Enter to move selected feed(s)\n- Similar to Dynalist's move-to feature\n- Works with single or multi-selected feeds\n- Uses command palette component (ttrb-xxx)\n\n## Outliner-Style Keyboard Navigation\n- j/k or ‚Üë/‚Üì: Navigate selection through tree\n- Alt-‚Üë/Alt-‚Üì: Move feed up/down within current category\n- Tab: Indent (move into category above current item)\n- Shift-Tab: Outdent (promote to parent's level)\n- Enter: Expand/collapse category, or edit feed title\n- Space: Toggle selection for multi-select\n- Delete/Backspace: Unsubscribe with confirmation\n\n## Drag and Drop\n- Use @dnd-kit library (modern, accessible, reliable)\n- Drag feeds between categories\n- Drag to reorder within category\n- Drag categories to reorder\n- Visual drop indicators\n- Keyboard-accessible DnD (Enter to pick up, arrows to move, Enter to drop)\n\n## Tree Display\n- Collapsible categories\n- Feed icons and unread counts\n- Visual indent for hierarchy\n- Selection highlight\n- Multi-select state indicator\n- Drag handle on hover\n\n## Components Needed\n- FeedOrganizer (main tree view)\n- QuickMoveDialog (uses command palette)\n- DraggableFeedItem\n- DroppableCategory\n\n## Libraries\n- @dnd-kit/core + @dnd-kit/sortable (drag-drop)\n- cmdk (command palette)\n\n## Reference\n- Dynalist move-to feature\n- Workflowy keyboard navigation  \n- Notion's drag-drop tree\n- Linear's sidebar organization\n\n## Settings Tab Structure\nThis lives in the 'Feeds \u0026 Categories' tab:\nTabs: Feeds \u0026 Categories | Filters | Labels | Preferences | Account","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-26T13:04:14.353651-05:00","updated_at":"2025-12-26T13:06:47.507676-05:00","labels":["feature","frontend","ux"],"dependencies":[{"issue_id":"ttrb-tdj","depends_on_id":"ttrb-00h","type":"related","created_at":"2025-12-26T13:06:57.873076-05:00","created_by":"daemon"}]}
{"id":"ttrb-u26","title":"Add image caching for articles","description":"Cache images from articles for offline reading and privacy.\n\n## Features:\n- Download and cache images from article content\n- Rewrite image URLs to point to cached versions\n- Configurable per-feed (cache_images field exists)\n- Cleanup old cached images\n\n## Implementation:\n- ActiveStorage or disk cache\n- Background job for image downloading\n- Proxy endpoint for serving cached images\n\n## Reference:\n- TTRSS cache_starred_images plugin\n- Feed.cache_images field exists","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-26T12:55:02.607434-05:00","updated_at":"2025-12-26T12:55:02.607434-05:00","labels":["backend","feature"]}
{"id":"ttrb-w4g","title":"Add app passwords for API access","description":"Allow users to create app-specific passwords for API access.\n\n## Features:\n- Generate named app passwords (for mobile apps, scripts)\n- List active app passwords\n- Revoke app passwords\n- App passwords bypass OTP requirement\n\n## Model:\n- Create AppPassword model (title, hashed_password, last_used, user_id)\n\n## API:\n- POST /api/app_passwords\n- GET /api/app_passwords\n- DELETE /api/app_passwords/:id\n\n## Reference:\n- TTRSS ttrss_app_passwords table","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T12:55:03.061083-05:00","updated_at":"2025-12-26T12:55:03.061083-05:00","labels":["auth","backend","feature"]}
{"id":"ttrb-weo","title":"Implement email digest settings and feature","description":"Email digest system with user-configurable settings.\n\n## Preferences\n- `digest_enable` (default: false) ‚Äî Enable daily digest emails\n- `digest_preferred_time` (default: '00:00') ‚Äî Preferred delivery time\n- `digest_catchup` (default: false) ‚Äî Mark articles read after digest\n- `digest_min_score` (default: 0) ‚Äî Minimum score to include\n\n## Backend Implementation\n\n### DigestMailer\n- HTML + plain text email templates\n- Article summaries with links\n- Configurable number of articles (top N by score or date)\n- Unsubscribe link in footer\n\n### SendDigestsJob (Solid Queue)\n- Scheduled to run hourly\n- Check each user's preferred time\n- Only send if digest_enable = true\n- Track last digest sent to avoid duplicates\n- Batch processing (max N users per run)\n\n### Article Selection\n- Unread articles since last digest\n- Filter by min_score if set\n- Order by score desc, then date\n- Limit to reasonable count (10-20?)\n\n## Settings UI\n- Toggle: 'Send daily email digest'\n- Time picker: 'Preferred delivery time'\n- Toggle: 'Mark articles as read after digest'\n- Number input: 'Minimum article score' (0 = all)\n\n## Requirements\n- ActionMailer configured with SMTP\n- User.email field (may need migration)\n\n## API\n- GET/PATCH /api/preferences\n\n## Depends on\n- ttrb-83r (original digest task) ‚Äî merge or replace","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-26T13:39:35.303589-05:00","updated_at":"2025-12-26T13:39:35.303589-05:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"ttrb-weo","depends_on_id":"ttrb-bj5","type":"parent-child","created_at":"2025-12-26T13:39:46.402557-05:00","created_by":"daemon"},{"issue_id":"ttrb-weo","depends_on_id":"ttrb-83r","type":"related","created_at":"2025-12-26T13:39:54.44605-05:00","created_by":"daemon"}]}
{"id":"ttrb-wev","title":"Add feed management UI (subscribe, edit, unsubscribe)","description":"Create UI for managing feed subscriptions.\n\n## Features:\n- Subscribe dialog: Enter URL, auto-detect feed, select category\n- Edit feed dialog: Title, category, update interval, options\n- Unsubscribe with confirmation\n- Feed error display (last_error from Feed model)\n- Force refresh button\n\n## Components:\n- SubscribeFeedDialog (modal)\n- EditFeedDialog (modal)\n- FeedSettingsMenu (context menu or dropdown)\n\n## API dependency:\n- POST /api/feeds\n- PATCH /api/feeds/:id\n- DELETE /api/feeds/:id","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-26T12:54:03.145247-05:00","updated_at":"2025-12-26T12:54:03.145247-05:00","labels":["feature","frontend"]}
{"id":"ttrb-x81","title":"Implement theming system","description":"Theme selection and custom CSS support.\n\n## Preferences\n- `user_css_theme` (default: '') ‚Äî Selected theme name\n- `user_stylesheet` (default: '') ‚Äî Custom CSS to inject\n\n## Frontend Implementation\n\n### Theme selection\n- Built-in themes: Light, Dark, System (auto)\n- Theme sets CSS variables for colors, spacing\n- Use Tailwind's dark mode support\n- Persist in preference, apply on load\n\n### Custom CSS\n- Textarea in settings for advanced users\n- Injected as \u003cstyle\u003e tag\n- Warning about potential breakage\n- Syntax highlighting would be nice\n\n## Settings UI\n- Theme selector: Light / Dark / System (radio or dropdown)\n- Expandable 'Advanced' section with CSS textarea\n- Preview changes before saving?\n\n## Implementation\n- CSS variables for theming (--color-bg, --color-text, etc.)\n- ThemeProvider context in React\n- Load preference on app init\n- System theme: use prefers-color-scheme media query\n\n## Themes to include\n- Light (default)\n- Dark\n- System (follows OS)\n- Future: more themes, theme editor?\n\n## API\n- GET/PATCH /api/preferences","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T13:39:08.357599-05:00","updated_at":"2025-12-26T13:39:08.357599-05:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"ttrb-x81","depends_on_id":"ttrb-bj5","type":"parent-child","created_at":"2025-12-26T13:39:46.326448-05:00","created_by":"daemon"}]}
{"id":"ttrb-yg3","title":"Build OPML import/export UI","description":"Create UI for OPML import and export.\n\n## Features:\n- Import: File upload dialog, preview feeds to import, progress indicator\n- Export: Download button, option to include settings\n- Handle errors gracefully (invalid OPML, duplicate feeds)\n\n## Backend exists:\n- OpmlImporter service\n- OpmlExporter service\n- Just need API endpoints and frontend\n\n## API endpoints needed:\n- POST /api/opml/import (multipart file upload)\n- GET /api/opml/export (download)","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-26T12:53:27.591917-05:00","updated_at":"2025-12-26T12:53:27.591917-05:00","labels":["feature","frontend"]}
{"id":"ttrb-ymf","title":"Implement enclosure/media playback","description":"Display and play media attachments (podcasts, videos).\n\n## Features:\n- Audio player for podcast enclosures\n- Video embed/player for video enclosures  \n- Image gallery for image attachments\n- Download link for all enclosure types\n- Show enclosure metadata (duration, size)\n\n## Enclosure model already exists with:\n- content_url, content_type, duration, length\n- video?, audio?, image? helper methods\n\n## Reference:\n- TTRSS displays enclosures in article view\n- Consider HTML5 audio/video elements","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T12:55:25.08793-05:00","updated_at":"2025-12-26T12:55:25.08793-05:00","labels":["feature","frontend"]}
